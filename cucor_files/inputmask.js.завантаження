!function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib")):e(window.dependencyLib||jQuery)}(function(e){function t(i,n){return this instanceof t?(e.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void a(this.opts.alias,n,this.opts)):new t(i,n)}function i(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function n(t,i){var n=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(n,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a&&"INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",n),a="text"===o.type,o=null}return a}function a(t,i,n){var o=n.aliases[t];return o?(o.alias&&a(o.alias,void 0,n),e.extend(!0,n,o),e.extend(!0,n,i),!0):(null===n.mask&&(n.mask=t),!1)}function o(t,i,n){function o(e,i){i=void 0!==i?i:t.getAttribute("data-inputmask-"+e),null!==i&&("string"==typeof i&&(0===e.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)}var r,s,l,u,c=t.getAttribute("data-inputmask");if(c&&""!==c&&(c=c.replace(new RegExp("'","g"),'"'),s=JSON.parse("{"+c+"}")),s){l=void 0;for(u in s)if("alias"===u.toLowerCase()){l=s[u];break}}o("alias",l),n.alias&&a(n.alias,n,i);for(r in i){if(s){l=void 0;for(u in s)if(u.toLowerCase()===r.toLowerCase()){l=s[u];break}}o(r,l)}return e.extend(!0,i,n),i}function r(i,n){function a(t){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function a(t,n,a){var o=i.definitions[n];a=void 0!==a?a:t.matches.length;var r=t.matches[a-1];if(o&&!k){o.placeholder=e.isFunction(o.placeholder)?o.placeholder(i):o.placeholder;for(var s=o.prevalidator,l=s?s.length:0,u=1;u<o.cardinality;u++){var c=l>=u?s[u-1]:[],d=c.validator,f=c.cardinality;t.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n}),r=t.matches[a-1]}t.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),k=!1}function o(e,t){e.isGroup&&(e.isGroup=!1,a(e,i.groupmarker.start,0),t!==!0&&a(e,i.groupmarker.end))}function r(e,t,i,n){t.matches.length>0&&(void 0===n||n)&&(i=t.matches[t.matches.length-1],o(i)),a(t,e)}function s(){if(y.length>0){if(f=y[y.length-1],r(c,f,v,!f.isAlternator),f.isAlternator){p=y.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;y.length>0?(f=y[y.length-1],f.matches.push(p)):g.matches.push(p)}}else r(c,g,v)}function l(e){function t(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}e.matches=e.matches.reverse();for(var n in e.matches){var a=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(a+1,0,o)}void 0!==e.matches[n].matches?e.matches[n]=l(e.matches[n]):e.matches[n]=t(e.matches[n])}return e}for(var u,c,d,f,p,v,m,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,k=!1,g=new n,y=[],b=[];u=h.exec(t);)if(c=u[0],k)s();else switch(c.charAt(0)){case i.escapeChar:k=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(d=y.pop(),void 0!==d)if(y.length>0){if(f=y[y.length-1],f.matches.push(d),f.isAlternator){p=y.pop();for(var P=0;P<p.matches.length;P++)p.matches[P].isGroup=!1;y.length>0?(f=y[y.length-1],f.matches.push(p)):g.matches.push(p)}}else g.matches.push(d);else s();break;case i.optionalmarker.start:y.push(new n(!1,!0));break;case i.groupmarker.start:y.push(new n(!0));break;case i.quantifiermarker.start:var C=new n(!1,!1,!0);c=c.replace(/[{}]/g,"");var w=c.split(","),_=isNaN(w[0])?w[0]:parseInt(w[0]),A=1===w.length?_:isNaN(w[1])?w[1]:parseInt(w[1]);if("*"!==A&&"+"!==A||(_="*"===A?0:1),C.quantifier={min:_,max:A},y.length>0){var x=y[y.length-1].matches;u=x.pop(),u.isGroup||(m=new n(!0),m.matches.push(u),u=m),x.push(u),x.push(C)}else u=g.matches.pop(),u.isGroup||(m=new n(!0),m.matches.push(u),u=m),g.matches.push(u),g.matches.push(C);break;case i.alternatormarker:y.length>0?(f=y[y.length-1],v=f.matches.pop()):v=g.matches.pop(),v.isAlternator?y.push(v):(p=new n(!1,!1,!1,!0),p.matches.push(v),y.push(p));break;default:s()}for(;y.length>0;)d=y.pop(),o(d,!0),g.matches.push(d);return g.matches.length>0&&(v=g.matches[g.matches.length-1],o(v),b.push(g)),i.numericInput&&l(b[0]),b}function o(o,r){if(null!==o&&""!==o){if(1===o.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var s="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;o=i.groupmarker.start+o+i.groupmarker.end+i.quantifiermarker.start+s+","+i.repeat+i.quantifiermarker.end}var l;return void 0===t.prototype.masksCache[o]||n===!0?(l={mask:o,maskToken:a(o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r,maskLength:void 0},n!==!0&&(t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]=l,l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]))):l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]),l}}function r(e){return e=e.toString()}var s;if(e.isFunction(i.mask)&&(i.mask=i.mask(i)),e.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return e.each(i.numericInput?i.mask.reverse():i.mask,function(t,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||e.isFunction(i.mask)?i:i.mask)}),l+=")",o(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(s=void 0===i.mask.mask||e.isFunction(i.mask.mask)?o(r(i.mask),i.mask):o(r(i.mask.mask),i.mask)),s}function s(a,o,r){function l(e,t,i){t=t||0;var n,a,o,s=[],l=0,u=m();ue=void 0!==se?se.maxLength:void 0,-1===ue&&(ue=void 0);do e===!0&&p().validPositions[l]?(o=p().validPositions[l],a=o.match,n=o.locator.slice(),s.push(i===!0?o.input:I(l,a))):(o=g(l,n,l-1),a=o.match,n=o.locator.slice(),(r.jitMasking===!1||u>l||Number.isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(I(l,a))),l++;while((void 0===ue||ue>l)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),p().maskLength=l+1,s}function p(){return o}function v(e){var t=p();t.buffer=void 0,e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function m(e,t,i){var n=-1,a=-1,o=i||p().validPositions;void 0===e&&(e=-1);for(var r in o){var s=parseInt(r);o[s]&&(t||null!==o[s].match.fn)&&(e>=s&&(n=s),s>=e&&(a=s))}return-1!==n&&e-n>1||e>a?n:a}function h(t,i,n,a){function o(e){var t=p().validPositions[e];if(void 0!==t&&null===t.match.fn){var i=p().validPositions[e-1],n=p().validPositions[e+1];return void 0!==i&&void 0!==n}return!1}var s,l=t,u=e.extend(!0,{},p().validPositions),c=!1;for(p().p=t,s=i-1;s>=l;s--)void 0!==p().validPositions[s]&&(n===!0||!o(s)&&r.canClearPosition(p(),s,m(),a,r)!==!1)&&delete p().validPositions[s];for(v(!0),s=l+1;s<=m();){for(;void 0!==p().validPositions[l];)l++;var d=p().validPositions[l];if(l>s&&(s=l+1),void 0===p().validPositions[s]&&O(s)||void 0!==d)s++;else{var f=g(s);c===!1&&u[l]&&u[l].match.def===f.match.def?(p().validPositions[l]=e.extend(!0,{},u[l]),p().validPositions[l].input=f.input,delete p().validPositions[s],s++):b(l,f.match.def)?M(l,f.input||I(s),!0)!==!1&&(delete p().validPositions[s],s++,c=!0):O(s)||(s++,l--),l++}}v(!0)}function k(e,t){for(var i,n=e,a=m(),o=p().validPositions[a]||C(0)[0],s=void 0!==o.alternation?o.locator[o.alternation].toString().split(","):[],l=0;l<n.length&&(i=n[l],!(i.match&&(r.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(void 0===o.alternation||o.alternation!==i.alternation||void 0!==i.locator[o.alternation]&&E(i.locator[o.alternation].toString().split(","),s)))||t===!0&&(null!==i.match.fn||/[0-9a-bA-Z]/.test(i.match.def)));l++);return i}function g(e,t,i){return p().validPositions[e]||k(C(e,t?t.slice():t,i))}function y(e){return p().validPositions[e]?p().validPositions[e]:C(e)[0]}function b(e,t){for(var i=!1,n=C(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===t){i=!0;break}return i}function P(t,i){var n,a;return(p().tests[t]||p().validPositions[t])&&e.each(p().tests[t]||[p().validPositions[t]],function(e,t){var o=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===a||a>o)&&-1!==o&&(n=t,a=o)}),n}function C(t,i,n){function a(i,n,o,s){function u(o,s,d){function h(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,a){return a.isQuantifier===!0&&(n=h(t,i.matches[e-1]))?!1:void 0}),n}function k(e,t){var i=P(e,t);return i?i.locator.slice(i.alternation+1):void 0}function g(e,i){return null===e.match.fn&&null!==i.match.fn&&i.match.fn.test(e.match.def,p(),t,!1,r,!1)}if(c>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask;if(c===t&&void 0===o.matches)return f.push({match:o,locator:s.reverse(),cd:m}),!0;if(void 0!==o.matches){if(o.isGroup&&d!==o){if(o=u(i.matches[e.inArray(o,i.matches)+1],s))return!0}else if(o.isOptional){var y=o;if(o=a(o,n,s,d)){if(l=f[f.length-1].match,!h(l,y))return!0;v=!0,c=t}}else if(o.isAlternator){var b,C=o,w=[],_=f.slice(),A=s.length,x=n.length>0?n.shift():-1;if(-1===x||"string"==typeof x){var E,M=c,O=n.slice(),S=[];if("string"==typeof x)S=x.split(",");else for(E=0;E<C.matches.length;E++)S.push(E);for(var j=0;j<S.length;j++){if(E=parseInt(S[j]),f=[],n=k(c,E)||O.slice(),o=u(C.matches[E]||i.matches[E],[E].concat(s),d)||o,o!==!0&&void 0!==o&&S[S.length-1]<C.matches.length){var T=e.inArray(o,i.matches)+1;i.matches.length>T&&(o=u(i.matches[T],[T].concat(s.slice(1,s.length)),d),o&&(S.push(T.toString()),e.each(f,function(e,t){t.alternation=s.length-1})))}b=f.slice(),c=M,f=[];for(var D=0;D<b.length;D++){var I=b[D],L=!1;I.alternation=I.alternation||A;for(var G=0;G<w.length;G++){var B=w[G];if(("string"!=typeof x||-1!==e.inArray(I.locator[I.alternation].toString(),S))&&(I.match.def===B.match.def||g(I,B))){L=I.match.mask===B.match.mask,-1===B.locator[I.alternation].toString().indexOf(I.locator[I.alternation])&&(B.locator[I.alternation]=B.locator[I.alternation]+","+I.locator[I.alternation],B.alternation=I.alternation,null==I.match.fn&&(B.na=B.na||I.locator[I.alternation].toString(),-1===B.na.indexOf(I.locator[I.alternation])&&(B.na=B.na+","+I.locator[I.alternation])));break}}L||w.push(I)}}"string"==typeof x&&(w=e.map(w,function(t,i){if(isFinite(i)){var n,a=t.alternation,o=t.locator[a].toString().split(",");t.locator[a]=void 0,t.alternation=void 0;for(var r=0;r<o.length;r++)n=-1!==e.inArray(o[r],S),n&&(void 0!==t.locator[a]?(t.locator[a]+=",",t.locator[a]+=o[r]):t.locator[a]=parseInt(o[r]),t.alternation=a);if(void 0!==t.locator[a])return t}})),f=_.concat(w),c=t,v=f.length>0,n=O.slice()}else o=u(C.matches[x]||i.matches[x],[x].concat(s),d);if(o)return!0}else if(o.isQuantifier&&d!==i.matches[e.inArray(o,i.matches)-1])for(var N=o,F=n.length>0?n.shift():0;F<(isNaN(N.quantifier.max)?F+1:N.quantifier.max)&&t>=c;F++){var R=i.matches[e.inArray(N,i.matches)-1];if(o=u(R,[F].concat(s),R)){if(l=f[f.length-1].match,l.optionalQuantifier=F>N.quantifier.min-1,h(l,R)){if(F>N.quantifier.min-1){v=!0,c=t;break}return!0}return!0}}else if(o=a(o,n,s,d))return!0}else c++}for(var d=n.length>0?n.shift():0;d<i.matches.length;d++)if(i.matches[d].isQuantifier!==!0){var h=u(i.matches[d],[d].concat(o),s);if(h&&c===t)return h;if(c>t)break}}function o(t){var i=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(i=k(t.slice()).locator.slice(),0===i.length&&(i=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])})),i}function s(e){return r.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&e[0].match.optionality!==!0&&e[0].match.optionalQuantifier!==!0&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[k(e)]:e}var l,u=p().maskToken,c=i?n:0,d=i?i.slice():[0],f=[],v=!1,m=i?i.join(""):"";if(t>-1){if(void 0===i){for(var h,g=t-1;void 0===(h=p().validPositions[g]||p().tests[g])&&g>-1;)g--;void 0!==h&&g>-1&&(d=o(h),m=d.join(""),c=g)}if(p().tests[t]&&p().tests[t][0].cd===m)return s(p().tests[t]);for(var y=d.shift();y<u.length;y++){var b=a(u[y],d,[y]);if(b&&c===t||c>t)break}}return(0===f.length||v)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),void 0!==i&&p().tests[t]?s(e.extend(!0,[],f)):(p().tests[t]=e.extend(!0,[],f),s(p().tests[t]))}function w(){return void 0===p()._buffer&&(p()._buffer=l(!1,1),void 0===p().buffer&&p()._buffer.slice()),p()._buffer}function _(e){return void 0!==p().buffer&&e!==!0||(p().buffer=l(!0,m(),!0)),p().buffer}function A(e,t,i){var n;if(e===!0)v(),e=0,t=i.length;else for(n=e;t>n;n++)delete p().validPositions[n];for(n=e;t>n;n++)v(!0),i[n]!==r.skipOptionalPartCharacter&&M(n,i[n],!0,!0)}function x(e,i,n){switch(r.casing||i.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=p().validPositions[n-1];e=0===n||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function E(t,i){for(var n=r.greedy?i:i.slice(0,1),a=!1,o=0;o<t.length;o++)if(-1!==e.inArray(t[o],n)){a=!0;break}return a}function M(i,n,a,o,s){function l(e){return fe?e.begin-e.end>1||e.begin-e.end===1&&r.insertMode:e.end-e.begin>1||e.end-e.begin===1&&r.insertMode}function u(t,n,a){var s=!1;return e.each(C(t),function(u,c){for(var d=c.match,k=n?1:0,g="",y=d.cardinality;y>k;y--)g+=T(t-(y-1));if(n&&(g+=n),_(!0),s=null!=d.fn?d.fn.test(g,p(),t,a,r,l(i)):(n===d.def||n===r.skipOptionalPartCharacter)&&""!==d.def&&{c:d.placeholder||d.def,pos:t},s!==!1){var b=void 0!==s.c?s.c:n;b=b===r.skipOptionalPartCharacter&&null===d.fn?d.placeholder||d.def:b;var P=t,C=_();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){h(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){M(t.pos,t.c,!0,o)})),s.refreshFromBuffer){var w=s.refreshFromBuffer;if(a=!0,A(w===!0?w:w.start,w.end,C),void 0===s.pos&&void 0===s.c)return s.pos=m(),!1;if(P=void 0!==s.pos?s.pos:t,P!==t)return s=e.extend(s,M(P,b,!0,o)),!1}else if(s!==!0&&void 0!==s.pos&&s.pos!==t&&(P=s.pos,A(t,P,_().slice()),P!==t))return s=e.extend(s,M(P,b,!0)),!1;return(s===!0||void 0!==s.pos||void 0!==s.c)&&(u>0&&v(!0),f(P,e.extend({},c,{input:x(b,d,P)}),o,l(i))||(s=!1),!1)}}),s}function c(t,i,n){var a,s,l,u,c,d,f,h,k=e.extend(!0,{},p().validPositions),g=!1,y=m();for(u=p().validPositions[y];y>=0;y--)if(l=p().validPositions[y],l&&void 0!==l.alternation){if(a=y,s=p().validPositions[a].alternation,u.locator[l.alternation]!==l.locator[l.alternation])break;u=l}if(void 0!==s){h=parseInt(a);var b=void 0!==u.locator[u.alternation||s]?u.locator[u.alternation||s]:f[0];b.length>0&&(b=b.split(",")[0]);var P=p().validPositions[h],w=p().validPositions[h-1];e.each(C(h,w?w.locator:void 0,h-1),function(a,l){f=l.locator[s]?l.locator[s].toString().split(","):[];for(var u=0;u<f.length;u++){var y=[],C=0,w=0,_=!1;if(b<f[u]&&(void 0===l.na||-1===e.inArray(f[u],l.na.split(",")))){p().validPositions[h]=e.extend(!0,{},l);var A=p().validPositions[h].locator;for(p().validPositions[h].locator[s]=parseInt(f[u]),null==l.match.fn?(P.input!==l.match.def&&(_=!0,P.generatedInput!==!0&&y.push(P.input)),w++,p().validPositions[h].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),p().validPositions[h].input=l.match.def):p().validPositions[h].input=P.input,c=h+1;c<m(void 0,!0)+1;c++)d=p().validPositions[c],d&&d.generatedInput!==!0&&/[0-9a-bA-Z]/.test(d.input)?y.push(d.input):t>c&&C++,delete p().validPositions[c];for(_&&y[0]===l.match.def&&y.shift(),v(!0),g=!0;y.length>0;){var x=y.shift();if(x!==r.skipOptionalPartCharacter&&!(g=M(m(void 0,!0)+1,x,!1,o,!0)))break}if(g){p().validPositions[h].locator=A;var E=m(t)+1;for(c=h+1;c<m()+1;c++)d=p().validPositions[c],(void 0===d||null==d.match.fn)&&t+(w-C)>c&&w++;t+=w-C,g=M(t>E?E:t,i,n,o,!0)}if(g)return!1;v(),p().validPositions=e.extend(!0,{},k)}}})}return g}function d(t,i){var n=p().validPositions[i];if(n)for(var a=n.locator,o=a.length,r=t;i>r;r++)if(void 0===p().validPositions[r]&&!O(r,!0)){var s=C(r),l=s[0],u=-1;e.each(s,function(e,t){for(var i=0;o>i&&void 0!==t.locator[i]&&E(t.locator[i].toString().split(","),a[i].toString().split(","));i++)i>u&&(u=i,l=t)}),f(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function f(t,i,n,a){if(a||r.insertMode&&void 0!==p().validPositions[t]&&void 0===n){var o,s=e.extend(!0,{},p().validPositions),l=m(void 0,!0);for(o=t;l>=o;o++)delete p().validPositions[o];p().validPositions[t]=e.extend(!0,{},i);var u,c=!0,d=p().validPositions,f=!1,h=p().maskLength;for(o=u=t;l>=o;o++){var k=s[o];if(void 0!==k)for(var g=u;g<p().maskLength&&(null==k.match.fn&&d[o]&&(d[o].match.optionalQuantifier===!0||d[o].match.optionality===!0)||null!=k.match.fn);){if(g++,f===!1&&s[g]&&s[g].match.def===k.match.def)p().validPositions[g]=e.extend(!0,{},s[g]),p().validPositions[g].input=k.input,y(g),u=g,c=!0;else if(b(g,k.match.def)){var P=M(g,k.input,!0,!0);c=P!==!1,u=P.caret||P.insert?m():g,f=!0}else c=k.generatedInput===!0;if(p().maskLength<h&&(p().maskLength=h),c)break}if(!c)break}if(!c)return p().validPositions=e.extend(!0,{},s),v(!0),!1}else p().validPositions[t]=e.extend(!0,{},i);return v(!0),!0}function y(t){for(var i=t-1;i>-1&&!p().validPositions[i];i--);var n,a;for(i++;t>i;i++)void 0===p().validPositions[i]&&(r.jitMasking===!1||r.jitMasking>i)&&(a=C(i,g(i-1).locator,i-1).slice(),""===a[a.length-1].match.def&&a.pop(),n=k(a),n&&(n.match.def===r.radixPointDefinitionSymbol||!O(i,!0)||e.inArray(r.radixPoint,_())<i&&n.match.fn&&n.match.fn.test(I(i),p(),i,!1,r))&&(w=u(i,n.match.placeholder||(null==n.match.fn?n.match.def:""!==I(i)?I(i):_()[i]),!0),w!==!1&&(p().validPositions[w.pos||i].generatedInput=!0)))}a=a===!0;var P=i;void 0!==i.begin&&(P=fe&&!l(i)?i.end:i.begin);var w=!1,j=e.extend(!0,{},p().validPositions);if(y(P),l(i)&&(H(void 0,t.keyCode.DELETE,i),P=p().p),P<p().maskLength&&(w=u(P,n,a),(!a||o===!0)&&w===!1)){var D=p().validPositions[P];if(!D||null!==D.match.fn||D.match.def!==n&&n!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===p().validPositions[S(P)])&&!O(P,!0)){var L=C(P).slice();""===L[L.length-1].match.def&&L.pop();var G=k(L,!0);G&&null===G.match.fn&&(G=G.match.placeholder||G.match.def,u(P,G,a),p().validPositions[P].generatedInput=!0);for(var B=P+1,N=S(P);N>=B;B++)if(w=u(B,n,a),w!==!1){d(P,void 0!==w.pos?w.pos:B),P=B;break}}}else w={caret:S(P)}}return w===!1&&r.keepStatic&&!a&&s!==!0&&(w=c(P,n,a)),w===!0&&(w={pos:P}),e.isFunction(r.postValidation)&&w!==!1&&!a&&o!==!0&&(w=!!r.postValidation(_(!0),w,r)&&w),void 0===w.pos&&(w.pos=P),w===!1&&(v(!0),p().validPositions=e.extend(!0,{},j)),w}function O(e,t){var i;if(t?(i=g(e).match,""===i.def&&(i=y(e).match)):i=y(e).match,null!=i.fn)return i.fn;if(t!==!0&&e>-1){var n=C(e);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function S(e,t){var i=p().maskLength;if(e>=i)return i;for(var n=e;++n<i&&(t===!0&&(y(n).match.newBlockMarker!==!0||!O(n))||t!==!0&&!O(n)););return n}function j(e,t){var i,n=e;if(0>=n)return 0;for(;--n>0&&(t===!0&&y(n).match.newBlockMarker!==!0||t!==!0&&!O(n)&&(i=C(n),i.length<2||2===i.length&&""===i[1].match.def)););return n}function T(e){return void 0===p().validPositions[e]?I(e):p().validPositions[e].input}function D(t,i,n,a,o){if(a&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(a,i,n,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;A(l===!0?l:l.start,l.end,s.buffer||i),i=_(!0)}void 0!==n&&(n=void 0!==s.caret?s.caret:n)}}t.inputmask._valueSet(i.join("")),void 0===n||void 0!==a&&"blur"===a.type?ae(t,i,n):B(t,n),o===!0&&(ve=!0,e(t).trigger("input"))}function I(e,t){if(t=t||y(e).match,void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===p().validPositions[e]){var i,n=C(e),a=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var o=0;o<n.length;o++)if(n[o].match.optionality!==!0&&n[o].match.optionalQuantifier!==!0&&(null===n[o].match.fn||void 0===i||n[o].match.fn.test(i.match.def,p(),e,!0,r)!==!1)&&(a.push(n[o]),null===n[o].match.fn&&(i=n[o]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function L(i,n,a,o,s,l){function u(){var e=!1,t=w().slice(f,S(f)).join("").indexOf(d);if(-1!==t&&!O(f)){e=!0;for(var i=w().slice(f,f+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}var c=o.slice(),d="",f=0,h=void 0;if(v(),p().p=S(-1),!a)if(r.autoUnmask!==!0){var k=w().slice(0,S(-1)).join(""),y=c.join("").match(new RegExp("^"+t.escapeRegex(k),"g"));y&&y.length>0&&(c.splice(0,y.length*k.length),f=S(f))}else f=S(f);if(e.each(c,function(t,n){if(void 0!==n){var o=new e.Event("keypress");o.which=n.charCodeAt(0),d+=n;var s=m(void 0,!0),l=p().validPositions[s],c=g(s+1,l?l.locator.slice():void 0,s);if(!u()||a||r.autoUnmask){var k=a?t:null==c.match.fn&&c.match.optionality&&s+1<p().p?s+1:p().p;h=W.call(i,o,!0,!1,a,k),f=k+1,d=""}else h=W.call(i,o,!0,!1,!0,s+1);if(!a&&e.isFunction(r.onBeforeWrite)&&(h=r.onBeforeWrite(o,_(),h.forwardPosition,r),h&&h.refreshFromBuffer)){var y=h.refreshFromBuffer;A(y===!0?y:y.start,y.end,h.buffer),v(!0),h.caret&&(p().p=h.caret)}}}),n){var b=void 0,P=m();document.activeElement===i&&(s||h)&&(b=B(i).begin,s&&h===!1&&(b=S(m(b))),h&&l!==!0&&(P+1>b||-1===P)&&(b=r.numericInput&&void 0===h.caret?j(h.forwardPosition):h.forwardPosition)),D(i,_(),b,s||new e.Event("checkval"))}}function G(t){if(t&&void 0===t.inputmask)return t.value;var i=[],n=p().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&i.push(n[a].input);var o=0===i.length?"":(fe?i.reverse():i).join("");if(e.isFunction(r.onUnMask)){var s=(fe?_().slice().reverse():_()).join("");o=r.onUnMask(s,o,r)||o}return o}function B(e,t,i,n){function a(e){if(n!==!0&&fe&&"number"==typeof e&&(!r.greedy||""!==r.placeholder)){var t=_().join("").length;e=t-e}return e}var o;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0),o.commonAncestorContainer.parentNode!==e&&o.commonAncestorContainer!==e||(t=o.startOffset,i=o.endOffset)):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),t=0-o.duplicate().moveStart("character",-e.inputmask._valueGet().length),i=t+o.text.length),{begin:a(t),end:a(i)};t=a(t),i=a(i),i="number"==typeof i?i:t;var s=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=s>e.scrollWidth?s:0,u||r.insertMode!==!1||t!==i||i++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=i;else if(window.getSelection){if(o=document.createRange(),void 0===e.firstChild||null===e.firstChild){var l=document.createTextNode("");e.appendChild(l)}o.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),o.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),o.collapse(!0);var c=window.getSelection();c.removeAllRanges(),c.addRange(o)}else e.createTextRange&&(o=e.createTextRange(),o.collapse(!0),o.moveEnd("character",i),o.moveStart("character",t),o.select());ae(e,void 0,{begin:t,end:i})}function N(t){var i,n,a=_(),o=a.length,r=m(),s={},l=p().validPositions[r],u=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<a.length;i++)n=g(i,u,i-1),u=n.locator.slice(),s[i]=e.extend(!0,{},n);var c=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=o-1;i>r&&(n=s[i],(n.match.optionality||n.match.optionalQuantifier||c&&(c!==s[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&E(n.locator[l.alternation].toString().split(","),c.toString().split(","))&&""!==C(i)[0].def))&&a[i]===I(i,n.match));i--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function F(e){for(var t=N(),i=e.length-1;i>t&&!O(i);i--);return e.splice(t,i+1-t),e}function R(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var i=!1,n=N(!0),a=j(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var o=0;a>=o;o++){var s=g(o).match;if(null!==s.fn&&void 0===p().validPositions[o]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&t[o]!==I(o,s)){i=!1;break}}}return i}}function K(t){function i(t){if(e.valHooks&&(void 0===e.valHooks[t]||e.valHooks[t].inputmaskpatch!==!0)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==m(void 0,void 0,e.inputmask.maskset.validPositions)||r.nullable!==!0?t:""}return i(e)},set:function(t,i){var a,o=e(t);return a=n(t,i),t.inputmask&&o.trigger("setvalue"),a},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==m()||r.nullable!==!0?document.activeElement===this&&r.clearMaskOnLostFocus?(fe?F(_().slice()).reverse():F(_().slice())).join(""):s.call(this):"":s.call(this)}function a(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}function o(t){ke.on(t,"mouseenter",function(t){var i=e(this),n=this,a=n.inputmask._valueGet();a!==_().join("")&&i.trigger("setvalue")})}var s,l;if(!t.inputmask.__valueGet){if(r.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;u&&u.get&&u.set?(s=u.get,l=u.set,Object.defineProperty(t,"value",{get:n,set:a,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:n,set:a,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",n),t.__defineSetter__("value",a));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return fe&&e!==!0?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||void 0===e?"":t!==!0&&fe?e.split("").reverse().join(""):e)},void 0===s&&(s=function(){return this.value},l=function(e){this.value=e},i(t.type),o(t))}}function H(i,n,a,o){function s(){if(r.keepStatic){for(var t=[],n=m(-1,!0),a=e.extend(!0,{},p().validPositions),o=p().validPositions[n];n>=0;n--){var s=p().validPositions[n];if(s){if(s.generatedInput!==!0&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete p().validPositions[n],void 0!==s.alternation&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(n>-1)for(p().p=S(m(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),W.call(i,l,!0,!1,!1,p().p)}else p().validPositions=e.extend(!0,{},a)}}if((r.numericInput||fe)&&(n===t.keyCode.BACKSPACE?n=t.keyCode.DELETE:n===t.keyCode.DELETE&&(n=t.keyCode.BACKSPACE),fe)){var l=a.end;a.end=a.begin,a.begin=l}n===t.keyCode.BACKSPACE&&(a.end-a.begin<1||r.insertMode===!1)?(a.begin=j(a.begin),void 0===p().validPositions[a.begin]||p().validPositions[a.begin].input!==r.groupSeparator&&p().validPositions[a.begin].input!==r.radixPoint||a.begin--):n===t.keyCode.DELETE&&a.begin===a.end&&(a.end=O(a.end,!0)?a.end+1:S(a.end)+1,void 0===p().validPositions[a.begin]||p().validPositions[a.begin].input!==r.groupSeparator&&p().validPositions[a.begin].input!==r.radixPoint||a.end++),h(a.begin,a.end,!1,o),o!==!0&&s();var u=m(a.begin,!0);u<a.begin?p().p=S(u):o!==!0&&(p().p=a.begin)}function U(n){var a=this,o=e(a),s=n.keyCode,l=B(a);if(s===t.keyCode.BACKSPACE||s===t.keyCode.DELETE||d&&s===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&s===t.keyCode.X&&!i("cut"))n.preventDefault(),H(a,s,l),D(a,_(!0),p().p,n,a.inputmask._valueGet()!==_().join("")),a.inputmask._valueGet()===w().join("")?o.trigger("cleared"):R(_())===!0&&o.trigger("complete"),r.showTooltip&&(a.title=r.tooltip||p().mask);else if(s===t.keyCode.END||s===t.keyCode.PAGE_DOWN){n.preventDefault();var u=S(m());r.insertMode||u!==p().maskLength||n.shiftKey||u--,B(a,n.shiftKey?l.begin:u,u,!0)}else s===t.keyCode.HOME&&!n.shiftKey||s===t.keyCode.PAGE_UP?(n.preventDefault(),B(a,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&s===t.keyCode.ESCAPE||90===s&&n.ctrlKey)&&n.altKey!==!0?(L(a,!0,!1,re.split("")),o.trigger("click")):s!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?r.tabThrough===!0&&s===t.keyCode.TAB?(n.shiftKey===!0?(null===y(l.begin).match.fn&&(l.begin=S(l.begin)),l.end=j(l.begin,!0),l.begin=j(l.end,!0)):(l.begin=S(l.begin,!0),l.end=S(l.begin,!0),l.end<p().maskLength&&l.end--),l.begin<p().maskLength&&(n.preventDefault(),B(a,l.begin,l.end))):n.shiftKey||(r.insertMode===!1?s===t.keyCode.RIGHT?setTimeout(function(){var e=B(a);B(a,e.begin)},0):s===t.keyCode.LEFT&&setTimeout(function(){var e=B(a);B(a,fe?e.begin+1:e.begin-1)},0):setTimeout(function(){ae(a)},0)):(r.insertMode=!r.insertMode,B(a,r.insertMode||l.begin!==p().maskLength?l.begin:l.begin-1));r.onKeyDown.call(this,n,_(),B(a).begin,r),me=-1!==e.inArray(s,r.ignorables)}function W(i,n,a,o,s){var l=this,u=e(l),c=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||me))return c===t.keyCode.ENTER&&re!==_().join("")&&(re=_().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(c){46===c&&i.shiftKey===!1&&","===r.radixPoint&&(c=44);var d,f=n?{begin:s,end:s}:B(l),m=String.fromCharCode(c);p().writeOutBuffer=!0;var h=M(f,m,o);if(h!==!1&&(v(!0),d=void 0!==h.caret?h.caret:n?h.pos+1:S(h.pos),p().p=d),a!==!1){var k=this;if(setTimeout(function(){r.onKeyValidation.call(k,c,h,r)},0),p().writeOutBuffer&&h!==!1){var g=_();D(l,g,r.numericInput&&void 0===h.caret?j(d):d,i,n!==!0),n!==!0&&setTimeout(function(){R(g)===!0&&u.trigger("complete")},0)}}if(r.showTooltip&&(l.title=r.tooltip||p().mask),i.preventDefault(),n)return h.forwardPosition=d,h}}function V(t){var i,n=this,a=t.originalEvent||t,o=e(n),s=n.inputmask._valueGet(!0),l=B(n);fe&&(i=l.end,l.end=l.begin,l.begin=i);var u=s.substr(0,l.begin),c=s.substr(l.end,s.length);if(u===(fe?w().reverse():w()).slice(0,l.begin).join("")&&(u=""),c===(fe?w().reverse():w()).slice(l.end).join("")&&(c=""),fe&&(i=u,u=c,c=i),window.clipboardData&&window.clipboardData.getData)s=u+window.clipboardData.getData("Text")+c;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=u+a.clipboardData.getData("text/plain")+c}var d=s;if(e.isFunction(r.onBeforePaste)){if(d=r.onBeforePaste(s,r),d===!1)return t.preventDefault();d||(d=s)}return L(n,!1,!1,fe?d.split("").reverse():d.toString().split("")),
D(n,_(),S(m()),t,re!==_().join("")),R(_())===!0&&o.trigger("complete"),t.preventDefault()}function Q(i){var n=this,a=n.inputmask._valueGet();if(_().join("")!==a){var o=B(n);if(a=a.replace(new RegExp("("+t.escapeRegex(w().join(""))+")*"),""),c){var r=a.replace(_().join(""),"");if(1===r.length){var s=new e.Event("keypress");return s.which=r.charCodeAt(0),W.call(n,s,!0,!0,!1,p().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>a.length&&(B(n,a.length),o=B(n)),_().length-a.length!==1||a.charAt(o.begin)===_()[o.begin]||a.charAt(o.begin+1)===_()[o.begin]||O(o.begin)){for(var l=m()+1,u=_().slice(l).join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);a=a.replace(u,""),a=a.split(""),L(n,!0,!1,a,i,o.begin<l),R(_())===!0&&e(n).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,U.call(n,i);i.preventDefault()}}function q(t){var i=this,n=i.inputmask._valueGet();L(i,!0,!1,(e.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),re=_().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&i.inputmask._valueGet()===w().join("")&&i.inputmask._valueSet("")}function z(e){var t=this,i=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?t.inputmask._valueGet()!==_().join("")&&D(t,_(),S(m())):he===!1&&B(t,S(m())),r.positionCaretOnTab===!0&&setTimeout(function(){X.apply(this,[e])},0),re=_().join("")}function Z(e){var t=this;if(he=!1,r.clearMaskOnLostFocus&&document.activeElement!==t){var i=_().slice(),n=t.inputmask._valueGet();n!==t.getAttribute("placeholder")&&""!==n&&(-1===m()&&n===w().join("")?i=[]:F(i),D(t,i))}}function X(t){function i(t){if(""!==r.radixPoint){var i=p().validPositions;if(void 0===i[t]||i[t].input===I(t)){if(t<S(-1))return!0;var n=e.inArray(r.radixPoint,_());if(-1!==n){for(var a in i)if(a>n&&i[a].input!==I(a))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var t=B(n);if(t.begin===t.end)switch(r.positionCaretOnClick){case"none":break;case"radixFocus":if(i(t.begin)){var a=e.inArray(r.radixPoint,_().join(""));B(n,r.numericInput?S(a):a);break}default:var o=t.begin,s=m(o,!0),l=S(s);if(l>o)B(n,O(o)||O(o-1)?o:S(o));else{var u=I(l);(""!==u&&_()[l]!==u&&y(l).match.optionalQuantifier!==!0||!O(l,!0)&&y(l).match.def===u)&&(l=S(l)),B(n,l)}}}},0)}function $(e){var t=this;setTimeout(function(){B(t,0,S(m()))},0)}function J(i){var n=this,a=e(n),o=B(n),s=i.originalEvent||i,l=window.clipboardData||s.clipboardData,u=fe?_().slice(o.end,o.begin):_().slice(o.begin,o.end);l.setData("text",fe?u.reverse().join(""):u.join("")),document.execCommand&&document.execCommand("copy"),H(n,t.keyCode.DELETE,o),D(n,_(),p().p,i,re!==_().join("")),n.inputmask._valueGet()===w().join("")&&a.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||p().mask)}function Y(t){var i=e(this),n=this;if(n.inputmask){var a=n.inputmask._valueGet(),o=_().slice();re!==o.join("")&&setTimeout(function(){i.trigger("change"),re=o.join("")},0),""!==a&&(r.clearMaskOnLostFocus&&(-1===m()&&a===w().join("")?o=[]:F(o)),R(o)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(v(),o=r.clearMaskOnLostFocus?[]:w().slice())),D(n,o,void 0,t))}}function ee(e){var t=this;he=!0,document.activeElement!==t&&r.showMaskOnHover&&t.inputmask._valueGet()!==_().join("")&&D(t,_())}function te(e){re!==_().join("")&&le.trigger("change"),r.clearMaskOnLostFocus&&-1===m()&&se.inputmask._valueGet&&se.inputmask._valueGet()===w().join("")&&se.inputmask._valueSet(""),r.removeMaskOnSubmit&&(se.inputmask._valueSet(se.inputmask.unmaskedvalue(),!0),setTimeout(function(){D(se,_())},0))}function ie(e){setTimeout(function(){le.trigger("setvalue")},0)}function ne(t){function i(e){var i,n=document.createElement("span");for(var a in o)isNaN(a)&&-1!==a.indexOf("font")&&(n.style[a]=o[a]);n.style.textTransform=o.textTransform,n.style.letterSpacing=o.letterSpacing,n.style.position="absolute",n.style.height="auto",n.style.width="auto",n.style.visibility="hidden",n.style.whiteSpace="nowrap",document.body.appendChild(n);var r,s=t.inputmask._valueGet(),l=0;for(i=0,r=s.length;r>=i;i++){if(n.innerHTML+=s.charAt(i)||"_",n.offsetWidth>=e){var u=e-l,c=n.offsetWidth-e;n.innerHTML=s.charAt(i),u-=n.offsetWidth/3,i=c>u?i-1:i;break}l=n.offsetWidth}return document.body.removeChild(n),i}function n(){ce.style.position="absolute",ce.style.top=a.top+"px",ce.style.left=a.left+"px",ce.style.width=parseInt(t.offsetWidth)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth)+"px",ce.style.height=parseInt(t.offsetHeight)-parseInt(o.paddingTop)-parseInt(o.paddingBottom)-parseInt(o.borderTopWidth)-parseInt(o.borderBottomWidth)+"px",ce.style.lineHeight=ce.style.height,ce.style.zIndex=isNaN(o.zIndex)?-1:o.zIndex-1,ce.style.webkitAppearance="textfield",ce.style.mozAppearance="textfield",ce.style.Appearance="textfield"}var a=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode,ce=document.createElement("div"),document.body.appendChild(ce);for(var r in o)isNaN(r)&&"cssText"!==r&&-1==r.indexOf("webkit")&&(ce.style[r]=o[r]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",n(),e(window).on("resize",function(i){a=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),n()}),e(t).on("click",function(e){return B(t,i(e.clientX)),X.call(this,[e])})}function ae(e,t,i){function n(){o||null!==l.fn&&void 0!==u.input?o&&null!==l.fn&&void 0!==u.input&&(o=!1,a+="</span>"):(o=!0,a+="<span class='im-static''>")}if(void 0!==ce){t=t||_(),void 0===i?i=B(e):void 0===i.begin&&(i={begin:i,end:i});var a="",o=!1;if(""!=t){var s,l,u,c=0,d=m();do c===i.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),p().validPositions[c]?(u=p().validPositions[c],l=u.match,s=u.locator.slice(),n(),a+=u.input):(u=g(c,s,c-1),l=u.match,s=u.locator.slice(),(r.jitMasking===!1||d>c||Number.isFinite(r.jitMasking)&&r.jitMasking>c)&&(n(),a+=I(c,l))),c++;while((void 0===ue||ue>c)&&(null!==l.fn||""!==l.def)||d>c)}ce.innerHTML=a}}function oe(t){if(se=t,le=e(se),r.showTooltip&&(se.title=r.tooltip||p().mask),("rtl"===se.dir||r.rightAlign)&&(se.style.textAlign="right"),("rtl"===se.dir||r.numericInput)&&(se.dir="ltr",se.removeAttribute("dir"),se.inputmask.isRTL=!0,fe=!0),r.colorMask===!0&&ne(se),f&&(se.hasOwnProperty("inputmode")&&(se.inputmode=r.inputmode,se.setAttribute("inputmode",r.inputmode)),"rtfm"===r.androidHack&&(r.colorMask!==!0&&ne(se),se.type="password")),ke.off(se),K(se),n(se,r)&&(ke.on(se,"submit",te),ke.on(se,"reset",ie),ke.on(se,"mouseenter",ee),ke.on(se,"blur",Y),ke.on(se,"focus",z),ke.on(se,"mouseleave",Z),r.colorMask!==!0&&ke.on(se,"click",X),ke.on(se,"dblclick",$),ke.on(se,"paste",V),ke.on(se,"dragdrop",V),ke.on(se,"drop",V),ke.on(se,"cut",J),ke.on(se,"complete",r.oncomplete),ke.on(se,"incomplete",r.onincomplete),ke.on(se,"cleared",r.oncleared),r.inputEventOnly!==!0&&(ke.on(se,"keydown",U),ke.on(se,"keypress",W)),ke.on(se,"compositionstart",e.noop),ke.on(se,"compositionupdate",e.noop),ke.on(se,"compositionend",e.noop),ke.on(se,"keyup",e.noop),ke.on(se,"input",Q)),ke.on(se,"setvalue",q),w(),""!==se.inputmask._valueGet()||r.clearMaskOnLostFocus===!1||document.activeElement===se){var i=e.isFunction(r.onBeforeMask)?r.onBeforeMask(se.inputmask._valueGet(),r)||se.inputmask._valueGet():se.inputmask._valueGet();L(se,!0,!1,i.split(""));var a=_().slice();re=a.join(""),R(a)===!1&&r.clearIncomplete&&v(),r.clearMaskOnLostFocus&&document.activeElement!==se&&(-1===m()?a=[]:F(a)),D(se,a),document.activeElement===se&&B(se,S(m()))}}var re,se,le,ue,ce,de,fe=!1,pe=!1,ve=!1,me=!1,he=!0,ke={on:function(i,n,a){var o=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new t(n).mask(this):ke.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||r.tabThrough===!1&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(ve===!0)return ve=!1,i.preventDefault();break;case"keydown":pe=!1,ve=!1;break;case"keypress":if(pe===!0)return i.preventDefault();pe=!0;break;case"click":if(c||d){var o=this,s=arguments;return setTimeout(function(){a.apply(o,s)},0),!1}}var l=a.apply(this,arguments);return l===!1&&(i.preventDefault(),i.stopPropagation()),l}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(o),-1!==e.inArray(n,["submit","reset"])?null!=i.form&&e(i.form).on(n,o):e(i).on(n,o)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var a=n.pop();-1!==e.inArray(i,["submit","reset"])?null!=t.form&&e(t.form).off(i,a):e(t).off(i,a)}delete t.inputmask.events[i]})}}};if(void 0!==a)switch(a.action){case"isComplete":return se=a.el,R(_());case"unmaskedvalue":return se=a.el,void 0!==se&&void 0!==se.inputmask?(o=se.inputmask.maskset,r=se.inputmask.opts,fe=se.inputmask.isRTL):(de=a.value,r.numericInput&&(fe=!0),de=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(de,r)||de:de).split(""),L(void 0,!1,!1,fe?de.reverse():de),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,_(),0,r)),G(se);case"mask":se=a.el,o=se.inputmask.maskset,r=se.inputmask.opts,fe=se.inputmask.isRTL,oe(se);break;case"format":return r.numericInput&&(fe=!0),de=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(a.value,r)||a.value:a.value).split(""),L(void 0,!1,!1,fe?de.reverse():de),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,_(),0,r),a.metadata?{value:fe?_().slice().reverse().join(""):_().join(""),metadata:s({action:"getmetadata"},o,r)}:fe?_().slice().reverse().join(""):_().join("");case"isValid":r.numericInput&&(fe=!0),a.value?(de=a.value.split(""),L(void 0,!1,!0,fe?de.reverse():de)):a.value=_().join("");for(var ge=_(),ye=N(),be=ge.length-1;be>ye&&!O(be);be--);return ge.splice(ye,be+1-ye),R(ge)&&a.value===_().join("");case"getemptymask":return w().join("");case"remove":se=a.el,le=e(se),o=se.inputmask.maskset,r=se.inputmask.opts,se.inputmask._valueSet(G(se)),ke.off(se);var Pe;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(Pe=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(se),"value"),Pe&&se.inputmask.__valueGet&&Object.defineProperty(se,"value",{get:se.inputmask.__valueGet,set:se.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&se.__lookupGetter__("value")&&se.inputmask.__valueGet&&(se.__defineGetter__("value",se.inputmask.__valueGet),se.__defineSetter__("value",se.inputmask.__valueSet)),se.inputmask=void 0;break;case"getmetadata":if(e.isArray(o.metadata)){for(var Ce,we=m(void 0,!0),_e=we;_e>=0;_e--)if(p().validPositions[_e]&&void 0!==p().validPositions[_e].alternation){Ce=p().validPositions[_e].alternation;break}return void 0!==Ce?o.metadata[p().validPositions[_e].locator[Ce]]:[]}return o.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,e.each(i,function(i,a){var l=e.extend(!0,{},n.opts);o(a,l,e.extend(!0,{},n.userOptions));var u=r(l,n.noMasksCache);void 0!==u&&(void 0!==a.inputmask&&a.inputmask.remove(),a.inputmask=new t,a.inputmask.opts=l,a.inputmask.noMasksCache=n.noMasksCache,a.inputmask.userOptions=e.extend(!0,{},n.userOptions),a.inputmask.el=a,a.inputmask.maskset=u,a.inputmask.isRTL=!1,e.data(a,"_inputmask_opts",l),s({action:"mask",el:a}))}),i&&i[0]?i[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&i!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return s({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(s({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return s({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return s({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return s({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return s({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return s({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(i){e.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){e.extend(!0,t.prototype.defaults.definitions,i)},t.extendAliases=function(i){e.extend(!0,t.prototype.defaults.aliases,i)},t.format=function(e,i,n){return t(i).format(e,n)},t.unmask=function(e,i){return t(i).unmaskedvalue(e)},t.isValid=function(e,i){return t(i).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,u=/mobile/i.test(l),c=/iemobile/i.test(l),d=/iphone/i.test(l)&&!c,f=/android/i.test(l)&&!c;return window.Inputmask=t,t});